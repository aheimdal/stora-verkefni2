{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["const API_URL = '/videos.json';\r\n\r\n/*\r\n* Fall sem býr til aðalfyrirsögn með html\r\n*/\r\nfunction showHeading() {\r\n  const section1 = document.createElement('section');\r\n  section1.setAttribute('class', 'leigan');\r\n  document.querySelector('main').appendChild(section1);\r\n\r\n  const headtext = document.createElement('h1');\r\n  const text = document.createTextNode('Myndbandaleigan');\r\n  headtext.setAttribute('class', 'myndbandaleigan');\r\n  headtext.appendChild(text);\r\n  section1.appendChild(headtext);\r\n}\r\n\r\n/*\r\n* Fall sem býr til línu á milli flokka með html\r\n*/\r\nfunction showBorder() {\r\n  const bordi = document.createElement('div');\r\n  bordi.setAttribute('class', 'bordi');\r\n  document.querySelector('main').appendChild(bordi);\r\n}\r\n\r\n/*\r\n* Fall sem býr til fyrirsagnir flokka með html\r\n*/\r\nfunction showcategories(data) {\r\n  const section1 = document.createElement('section');\r\n  section1.setAttribute('class', 'categories');\r\n  document.querySelector('main').appendChild(section1);\r\n\r\n  const container = document.createElement('div');\r\n  container.setAttribute('class', 'categor');\r\n  section1.appendChild(container);\r\n\r\n  const cattitill = document.createElement('h2');\r\n  cattitill.setAttribute('class', 'categoriestitill');\r\n  const titill = document.createTextNode(data.title);\r\n  cattitill.appendChild(titill);\r\n  container.appendChild(cattitill);\r\n}\r\n\r\nfunction video(e, id) {\r\n  e.preventDefault();\r\n  const idno = id;\r\n\r\n  sessionStorage.setItem('Id', id);\r\n\r\n  window.location.href = `/video.html?id=${idno}`;\r\n}\r\n/*\r\n* Fall sem býr til myndir af videoum með titli, aldri videos og lengd með html\r\n* Fallið reiknar út úr epoch tíma hve langt er síðan video var sett inn.\r\n* Fallið reiknar út lengd videos.\r\n*/\r\n\r\nfunction showvideos(data) {\r\n  const section = document.createElement('section');\r\n  section.setAttribute('class', 'videos');\r\n  document.querySelector('main').appendChild(section);\r\n\r\n  const container = document.createElement('div');\r\n  container.setAttribute('class', 'flokkar');\r\n  section.appendChild(container);\r\n\r\n  const img = document.createElement('IMG');\r\n  img.src = data.poster;\r\n  img.setAttribute('class', 'image');\r\n  const id = data.id;\r\n\r\n  img.addEventListener('click', (event) => {\r\n    video(event, id);\r\n  });\r\n  container.appendChild(img);\r\n\r\n\r\n  /* reiknar út lengd videos í mínútum og sekúndum\r\n     út frá gefnum tíma í sekúndum */\r\n  const dur = data.duration;\r\n  let min = Math.floor(dur / 60);\r\n  let sec = dur % 60;\r\n  const duration = document.createElement('div');\r\n  if (sec < 10) {\r\n    sec = `0${sec}`;\r\n  }\r\n  if (min < 10) {\r\n    min = `0${min}`;\r\n  }\r\n  const durtext = document.createTextNode(`${min}:${sec}`);\r\n  duration.setAttribute('class', 'duration');\r\n  duration.appendChild(durtext);\r\n  container.appendChild(duration);\r\n\r\n  const ptitill = document.createElement('p');\r\n  const titill = document.createTextNode(data.title);\r\n  ptitill.setAttribute('class', 'titill');\r\n  ptitill.appendChild(titill);\r\n  container.appendChild(ptitill);\r\n\r\n  /* reiknar út hve langt er liðið síðan videoið var sett inn\r\n     út frá epoch timestamp */\r\n  const today = new Date();\r\n  const todaysec = Math.round(today.getTime() / 1000);\r\n  const startDate = new Date(data.created); // Your timezone!\r\n  const seconds = Math.round(startDate.getTime() / 1000);\r\n  const mismunur = Math.floor(todaysec - seconds);\r\n\r\n  const year = 31536000;\r\n  const month = 2592000;\r\n  const week = 604800;\r\n  const day = 60 * 60 * 24;\r\n  const hour = 3600;\r\n\r\n  // ár\r\n  if (year < mismunur) {\r\n    const arum = Math.floor(mismunur / year);\r\n    const parum = document.createElement('p');\r\n    parum.setAttribute('class', 'lidinn');\r\n    let parumtext = 0;\r\n    const parumtext1 = document.createTextNode(`Fyrir ${parum} árum síðan`);\r\n    const parumtext2 = document.createTextNode(`Fyrir ${parum} ári síðan`);\r\n    if (arum > 1) {\r\n      parumtext = parumtext1;\r\n    } else {\r\n      parumtext = parumtext2;\r\n    }\r\n    parum.appendChild(parumtext);\r\n    container.appendChild(parum);\r\n\r\n  // mánuðir\r\n  } else if (month < mismunur) {\r\n    const manudum = Math.floor(mismunur / month);\r\n    const pmanudum = document.createElement('p');\r\n    pmanudum.setAttribute('class', 'lidinn');\r\n    let pmanudumtext = 0;\r\n    const pmanudumtext1 = document.createTextNode(`Fyrir ${manudum} mánuðum síðan`);\r\n    const pmanudumtext2 = document.createTextNode(`Fyrir ${manudum} mánuði síðan`);\r\n    if (manudum > 1) {\r\n      pmanudumtext = pmanudumtext1;\r\n    } else {\r\n      pmanudumtext = pmanudumtext2;\r\n    }\r\n    pmanudum.appendChild(pmanudumtext);\r\n    container.appendChild(pmanudum);\r\n\r\n  // vikur\r\n  } else if (week < mismunur) {\r\n    const vikum = Math.floor(mismunur / week);\r\n    const pvikum = document.createElement('p');\r\n    pvikum.setAttribute('class', 'lidinn');\r\n    let pvikumtext = 0;\r\n    const pvikumtext1 = document.createTextNode(`Fyrir ${vikum} vikum síðan`);\r\n    const pvikumtext2 = document.createTextNode(`Fyrir ${vikum} viku síðan`);\r\n    if (vikum > 1) {\r\n      pvikumtext = pvikumtext1;\r\n    } else {\r\n      pvikumtext = pvikumtext2;\r\n    }\r\n    pvikum.appendChild(pvikumtext);\r\n    container.appendChild(pvikum);\r\n\r\n  // dagar\r\n  } else if (day < mismunur) {\r\n    const dogum = Math.floor(mismunur / day);\r\n    const pdogum = document.createElement('p');\r\n    pdogum.setAttribute('class', 'lidinn');\r\n    let pdogumtext = 0;\r\n    const pdogumtext1 = document.createTextNode(`Fyrir ${dogum} dögum síðan`);\r\n    const pdogumtext2 = document.createTextNode(`Fyrir ${dogum} degi síðan`);\r\n    if (dogum > 1) {\r\n      pdogumtext = pdogumtext1;\r\n    } else {\r\n      pdogumtext = pdogumtext2;\r\n    }\r\n    pdogum.appendChild(pdogumtext);\r\n    container.appendChild(pdogum);\r\n\r\n  // klukkustundir\r\n  } else {\r\n    const klst = Math.floor(mismunur / hour);\r\n    const pklst = document.createElement('p');\r\n    pklst.setAttribute('class', 'lidinn');\r\n    let pklsttext = 0;\r\n    const pklsttext1 = document.createTextNode(`Fyrir ${klst} klukkustundum síðan`);\r\n    const pklsttext2 = document.createTextNode(`Fyrir ${klst} klukkustund síðan`);\r\n    if (klst > 1) {\r\n      pklsttext = pklsttext1;\r\n    } else {\r\n      pklsttext = pklsttext2;\r\n    }\r\n    pklst.appendChild(pklsttext);\r\n    container.appendChild(pklst);\r\n  }\r\n}\r\n\r\n/**\r\n * Fall sem sækir gögn með Ajax í videos.json\r\n */\r\nconst program = (() => {\r\n  function init() {\r\n    const request = new XMLHttpRequest();\r\n\r\n    /* sækir slóð með GET */\r\n    request.open('GET', API_URL, true);\r\n\r\n    /* Fall sem keyrir við svar frá vefþjón\r\n    * request mun innihalda gögn um HTTP kall\r\n    * kallar á föll sem búa til html síðunnar\r\n    */\r\n    request.onload = () => {\r\n      const data = JSON.parse(request.response);\r\n\r\n\r\n      showHeading();\r\n      for (const { title, videos } of data.categories) {\r\n        showcategories({ title });\r\n        for (const id of videos) {\r\n          const dvideo = data.videos.find(v => v.id === id);\r\n          showvideos(dvideo);\r\n        }\r\n        showBorder();\r\n      }\r\n      /*\r\n      () => {\r\n      return Object.categories(categories).map(title => stuff(title)).data();\r\n      showcategories({ title });\r\n      }*/\r\n    };\r\n    /* Villuskilaboð þegar gögnin hlaðast ekki inn úr json */\r\n    request.onerror = () => {\r\n      showHeading();\r\n      const villudiv = document.createElement('div');\r\n      villudiv.setAttribute('class', 'villudiv');\r\n      document.querySelector('main').appendChild(villudiv);\r\n\r\n      const villa = document.createElement('p');\r\n      const villutext = document.createTextNode('Gat ekki hlaðið gögnum');\r\n      villa.setAttribute('class', 'villa');\r\n      villa.appendChild(villutext);\r\n      villudiv.appendChild(villa);\r\n    };\r\n    request.send();\r\n  }\r\n\r\n  return {\r\n    init: init,\r\n  };\r\n})();\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const site = document.querySelector('.videos');\r\n  program.init(site);\r\n});\r\n"]}