{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["const API_URL = '/videos.json';\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n  const site = document.querySelector('.videos');\r\n\r\n  program.init(site);\r\n});\r\n\r\n/**\r\n * Fall sem sækir gögn með Ajax í videos.json\r\n */\r\nconst program = (function () {\r\n\r\n  function init(site) {\r\n\r\n    const request = new XMLHttpRequest();\r\n\r\n    /* sækir slóð með GET */\r\n    request.open('GET', API_URL, true);\r\n\r\n    /* Fall sem keyrir við svar frá vefþjón\r\n    * request mun innihalda gögn um HTTP kall\r\n    * kallar á föll sem búa til html síðunnar\r\n    */\r\n    request.onload = function() {\r\n      let data =JSON.parse(request.response);\r\n      let videoslength = data.videos.length;\r\n\r\n      showHeading();\r\n      for(const {title, videos} of data.categories){\r\n        showcategories({title});\r\n        for(const id of videos){\r\n          const dvideo = data.videos.find(v => v.id === id);\r\n          showvideos(dvideo);\r\n        }\r\n        showBorder();\r\n      }\r\n\r\n    };\r\n\r\n    /* Villuskilaboð þegar gögnin hlaðast ekki inn úr json */\r\n    request.onerror = function() {\r\n      showHeading();\r\n      const villudiv = document.createElement('div');\r\n      villudiv.setAttribute('class', 'villudiv');\r\n      document.querySelector('main').appendChild(villudiv);\r\n\r\n      const villa = document.createElement('p');\r\n      const villutext = document.createTextNode('Gat ekki hlaðið gögnum');\r\n      villa.setAttribute('class', 'villa');\r\n      villa.appendChild(villutext);\r\n      villudiv.appendChild(villa);\r\n    };\r\n    request.send();\r\n\r\n    /*\r\n    * Fall sem býr til aðalfyrirsögn með html\r\n    */\r\n    function showHeading() {\r\n      let section1 = document.createElement('section');\r\n      section1.setAttribute('class', 'leigan');\r\n      document.querySelector('main').appendChild(section1);\r\n\r\n      const headtext = document.createElement('h1');\r\n      const text = document.createTextNode('Myndbandaleigan');\r\n      headtext.setAttribute('class', 'myndbandaleigan');\r\n      headtext.appendChild(text);\r\n      section1.appendChild(headtext);\r\n    }\r\n\r\n    /*\r\n    * Fall sem býr til fyrirsagnir flokka með html\r\n    */\r\n    function showcategories(data) {\r\n      let section1 = document.createElement('section');\r\n      section1.setAttribute('class', 'categories');\r\n      document.querySelector('main').appendChild(section1);\r\n\r\n      let container = document.createElement('div');\r\n      container.setAttribute('class', 'categor');\r\n      section1.appendChild(container);\r\n\r\n      const cattitill = document.createElement('h2');\r\n      cattitill.setAttribute('class', 'categoriestitill');\r\n      const titill = document.createTextNode(data.title);\r\n      cattitill.appendChild(titill);\r\n      container.appendChild(cattitill);\r\n   }\r\n\r\n   /*\r\n   * Fall sem býr til línu á milli flokka með html\r\n   */\r\n   function showBorder() {\r\n     const bordi = document.createElement('div');\r\n     bordi.setAttribute('class', 'bordi');\r\n     document.querySelector('main').appendChild(bordi);\r\n   }\r\n\r\n    /*\r\n    * Fall sem býr til myndir af videoum með titli, aldri videos og lengd með html\r\n    * Fallið reiknar út úr epoch tíma hve langt er síðan video var sett inn.\r\n    * Fallið reiknar út lengd videos.\r\n    */\r\n    function showvideos(data) {\r\n      const section = document.createElement('section');\r\n      section.setAttribute('class', 'videos');\r\n      document.querySelector('main').appendChild(section);\r\n\r\n      const container = document.createElement('div');\r\n      container.setAttribute('class', 'flokkar');\r\n      section.appendChild(container);\r\n\r\n      const img = document.createElement('IMG');\r\n      img.src = data.poster;\r\n      img.setAttribute('class', 'image');\r\n      const poster = document.querySelector('.image');\r\n      let id = data.id;\r\n\r\n      img.addEventListener('click', function (event) {\r\n        video(event, id);\r\n      });\r\n      container.appendChild(img);\r\n\r\n      function video(e, id) {\r\n        e.preventDefault();\r\n        const idno = id;\r\n\r\n        sessionStorage.setItem('Id', id);\r\n\r\n        window.location.href = '/video.html?id=' + idno;\r\n      }\r\n\r\n      /* reiknar út lengd videos í mínútum og sekúndum\r\n         út frá gefnum tíma í sekúndum */\r\n      const dur = data.duration;\r\n      let min = Math.floor(dur / 60);\r\n      let sec = dur % 60;\r\n      const duration = document.createElement('div');\r\n      if (sec < 10) {\r\n        sec = '0' + sec;\r\n      }\r\n      if (min < 10) {\r\n        min = '0' + min;\r\n      }\r\n      const durtext = document.createTextNode(min + ':' + sec);\r\n      duration.setAttribute('class', 'duration');\r\n      duration.appendChild(durtext);\r\n      container.appendChild(duration);\r\n\r\n      const ptitill = document.createElement('p');\r\n      const titill = document.createTextNode(data.title);\r\n      ptitill.setAttribute('class', 'titill');\r\n      ptitill.appendChild(titill);\r\n      container.appendChild(ptitill);\r\n\r\n      /* reiknar út hve langt er liðið síðan videoið var sett inn\r\n         út frá epoch timestamp */\r\n      today= new Date();\r\n      const todaysec = Math.round(today.getTime() / 1000);\r\n      const startDate = new Date(data.created); // Your timezone!\r\n      const seconds = Math.round(startDate.getTime() / 1000);\r\n      const mismunur = Math.floor(todaysec-seconds);\r\n\r\n      const year = 31536000;\r\n      const month = 2592000;\r\n      const week = 604800;\r\n      const day = 60 * 60 * 24;\r\n      const hour = 3600;\r\n\r\n      // ár\r\n      if (year < mismunur) {\r\n        const arum = Math.floor(mismunur/year);\r\n        const parum = document.createElement('p');\r\n        parum.setAttribute('class', 'lidinn');\r\n        if (arum > 1) {\r\n        let parumtext = document.createTextNode('Fyrir ' + parum +  ' árum síðan');\r\n      } else {\r\n          let parumtext = document.createTextNode('Fyrir ' + parum +  ' ári síðan');\r\n      }\r\n        parum.appendChild(parumtext);\r\n        container.appendChild(parum);\r\n\r\n      // mánuðir\r\n      } else if (month < mismunur) {\r\n        const manudum = Math.floor(mismunur/month);\r\n        const pmanudum = document.createElement('p');\r\n        pmanudum.setAttribute('class', 'lidinn');\r\n        if (manudum > 1) {\r\n        var pmanudumtext = document.createTextNode('Fyrir ' + manudum +  ' mánuðum síðan');\r\n      } else {\r\n        var pmanudumtext = document.createTextNode('Fyrir ' + manudum +  ' mánuði síðan');\r\n      }\r\n        pmanudum.appendChild(pmanudumtext);\r\n        container.appendChild(pmanudum);\r\n\r\n      // vikur\r\n      } else if (week < mismunur) {\r\n        let vikum = Math.floor(mismunur/week);\r\n        let pvikum = document.createElement('p');\r\n        pvikum.setAttribute('class', 'lidinn');\r\n        if (vikum > 1) {\r\n        var pvikumtext = document.createTextNode('Fyrir ' + vikum +  ' vikum síðan');\r\n      } else {\r\n        var pvikumtext = document.createTextNode('Fyrir ' + vikum +  ' viku síðan');\r\n      }\r\n        pvikum.appendChild(pvikumtext);\r\n        container.appendChild(pvikum);\r\n\r\n      // dagar\r\n      } else if (day < mismunur) {\r\n        let dogum =  Math.floor(mismunur/day);\r\n        let pdogum = document.createElement('p');\r\n        pdogum.setAttribute('class', 'lidinn');\r\n        if (dogum > 1) {\r\n        let pdogumtext = document.createTextNode('Fyrir ' + dogum +  ' dögum síðan');\r\n      } else {\r\n        let pdogumtext = document.createTextNode('Fyrir ' + dogum +  ' degi síðan');\r\n      }\r\n        pdogum.appendChild(pdogumtext);\r\n        container.appendChild(pdogum);\r\n\r\n      // klukkustundir\r\n      } else {\r\n        let klst =  Math.floor(mismunur/hour);\r\n        let pklst = document.createElement('p');\r\n        pklst.setAttribute('class', 'lidinn');\r\n        if (klst > 1) {\r\n        let klsttext = document.createTextNode('Fyrir ' + klst +  ' klukkustundum síðan');\r\n      } else {\r\n        let klsttext = document.createTextNode('Fyrir ' + klst +  ' klukkustund síðan');\r\n      }\r\n        pklst.appendChild(pklsttext);\r\n        container.appendChild(pklst);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  return {\r\n    init: init\r\n  }\r\n})();\r\n"]}